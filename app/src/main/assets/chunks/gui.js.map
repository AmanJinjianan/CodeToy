{"version":3,"file":"chunks/gui.js","sources":["webpack://GUI/./src/playground/index.css","webpack://GUI/./src/playground/index.css?5c54","webpack://GUI/./src/playground/index.jsx","webpack://GUI/./src/playground/render-gui.jsx","webpack://GUI/./locale-data/complete.js (ignored)"],"sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html,\\nbody,\\n.index_app_3Qs6X {\\n    /* probably unecessary, transitional until layout is refactored */\\n    width: 100%;\\n    height: 100%;\\n    margin: 0;\\n\\n    /* Setting min height/width makes the UI scroll below those sizes */\\n    min-width: 1024px;\\n    min-height: 640px; /* Min height to fit sprite/backdrop button */\\n}\\n\\n.index_showdiv_Snxt9 {\\n    width: 50%;\\n    margin: 0 auto;\\n    height: 50%;\\n    border: 1px solid #999;\\n    display: none;\\n    position: absolute;\\n    top: 25%;\\n    left: 25%;\\n    background: #ffffff;\\n}\\n\\n.index_title_s1z3r {\\n    background: #F8F7F7;\\n    width: 100%;\\n    height: 2rem;\\n    font-size: 0.65rem;\\n    line-height: 2rem;\\n    border-bottom: 1px solid #999;\\n    text-align: center;\\n}\\n\\n.index_text_2toiW {\\n    text-indent: 50px;\\n    height: 4rem;\\n    font-size: 0.5rem;\\n    padding: 0.5rem;\\n    line-height: 1rem;\\n}\\n\\n.index_btnqd_1AquL {\\n    position: absolute;\\n    background: #418BCA;\\n    width: 40%;\\n    margin: 0 auto;\\n    height: 1.5rem;\\n    line-height: 1.5rem;\\n    text-align: center;\\n    color: #fff;\\n    bottom: 15px;\\n    left: 5%;\\n    float: left;\\n    border-radius: .128rem;\\n    font-size: .59733rem;\\n}\\n\\n.index_btnqx_3sArj {\\n    position: absolute;\\n    background: #418BCA;\\n    width: 40%;\\n    margin: 0 auto;\\n    height: 1.5rem;\\n    line-height: 1.5rem;\\n    text-align: center;\\n    color: #fff;\\n    bottom: 15px;\\n    right: 5%;\\n    border-radius: .128rem;\\n    font-size: .59733rem;\\n}\\n\\n/* @todo: move globally? Safe / side FX, for blocks particularly? */\\n\\n* {\\n    -webkit-box-sizing: border-box;\\n            box-sizing: border-box;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"app\": \"index_app_3Qs6X\",\n\t\"showdiv\": \"index_showdiv_Snxt9\",\n\t\"title\": \"index_title_s1z3r\",\n\t\"text\": \"index_text_2toiW\",\n\t\"btnqd\": \"index_btnqd_1AquL\",\n\t\"btnqx\": \"index_btnqx_3sArj\"\n};","\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--5-1!../../node_modules/postcss-loader/src/index.js??postcss!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--5-1!../../node_modules/postcss-loader/src/index.js??postcss!./index.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--5-1!../../node_modules/postcss-loader/src/index.js??postcss!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Polyfills\nimport 'es6-object-assign/auto';\nimport 'core-js/fn/array/includes';\nimport 'core-js/fn/promise/finally';\nimport 'intl'; // For Safari 9\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport analytics from '../lib/analytics';\nimport AppStateHOC from '../lib/app-state-hoc.jsx';\nimport BrowserModalComponent from '../components/browser-modal/browser-modal.jsx';\nimport supportedBrowser from '../lib/supported-browser';\n\nimport styles from './index.css';\nimport ScratchBlocks from 'scratch-blocks';\n\n// Register \"base\" page view\nanalytics.pageview('/');\n\nconst appTarget = document.createElement('div');\nappTarget.className = styles.app;\ndocument.body.appendChild(appTarget);\nconst appTarget3 = document.createElement('div');\nappTarget3.className = styles.showdiv;\nappTarget3.setAttribute(\"id\", \"showdiv\");\ndocument.body.appendChild(appTarget3);\nconst divChild = document.getElementById('showdiv');\nconst title = document.createElement('div');\ntitle.setAttribute(\"id\", \"title\");\ntitle.className = styles.title;\ntitle.innerText=\"提示\";\ndivChild.appendChild(title);\nconst text = document.createElement('div');\ntext.setAttribute(\"id\", \"text\");\ntext.className = styles.text;\ntext.innerText=\"提示框内容\";\ndivChild.appendChild(text);\nconst btnqd = document.createElement('div');\nbtnqd.setAttribute(\"id\", \"btnqd\");\nbtnqd.setAttribute(\"onclick\",\"click_dhk()\")\nbtnqd.className = styles.btnqd;\nbtnqd.innerText=\"保存\";\ndivChild.appendChild(btnqd);\nconst btnqx = document.createElement('div');\nbtnqx.setAttribute(\"id\", \"btnqx\");\nbtnqx.setAttribute(\"onclick\", \"{()=>(IMPP.click_dhk())}\");\nbtnqx.className = styles.btnqx;\nbtnqx.innerText=\"取消\";\ndivChild.appendChild(btnqx);\ndocument.getElementById(\"btnqd\").onclick = function(){\n    var t = Blockly.Xml.domToText(Blockly.Xml.workspaceToDom(Blockly.getMainWorkspace()));\n    console.log(t)\n    var a = document.getElementById('showdiv');  //显示弹窗\n    a.style.display = 'none';\n    TestJs.save(t);\n};\ndocument.getElementById(\"btnqx\").onclick = function(){\n    var a = document.getElementById('showdiv');  //显示弹窗\n    a.style.display = 'none';\n};\n\n\nif (supportedBrowser()) {\n    // require needed here to avoid importing unsupported browser-crashing code\n    // at the top level\n    require('./render-gui.jsx').default(appTarget);\n\n} else {\n    BrowserModalComponent.setAppElement(appTarget);\n    const WrappedBrowserModalComponent = AppStateHOC(BrowserModalComponent, true /* localesOnly */);\n    const handleBack = () => {};\n    // eslint-disable-next-line react/jsx-no-bind\n    ReactDOM.render(<WrappedBrowserModalComponent onBack={handleBack} />, appTarget);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {compose} from 'redux';\n\nimport AppStateHOC from '../lib/app-state-hoc.jsx';\nimport GUI from '../containers/gui.jsx';\nimport HashParserHOC from '../lib/hash-parser-hoc.jsx';\nimport TitledHOC from '../lib/titled-hoc.jsx';\nimport log from '../lib/log.js';\n\nconst onClickLogo = () => {\n    //window.location = 'https://scratch.mit.edu';\n\tvar workspace = Blockly.getMainWorkspace();\n\tvar array = workspace.undoStack_ ;\n\tconsole.log(array);\n\tif(array.length>0){\n\t\tworkspace.undo(false);\n\t}\n};\n\nconst handleTelemetryModalCancel = () => {\n    log('User canceled telemetry modal');\n};\n\nconst handleTelemetryModalOptIn = () => {\n    log('User opted into telemetry');\n};\n\nconst handleTelemetryModalOptOut = () => {\n    log('User opted out of telemetry');\n};\n\n/*\n * Render the GUI playground. This is a separate function because importing anything\n * that instantiates the VM causes unsupported browsers to crash\n * {object} appTarget - the DOM element to render to\n */\nexport default appTarget => {\n    GUI.setAppElement(appTarget);\n\n    // note that redux's 'compose' function is just being used as a general utility to make\n    // the hierarchy of HOC constructor calls clearer here; it has nothing to do with redux's\n    // ability to compose reducers.\n    const WrappedGui = compose(\n        AppStateHOC,\n        HashParserHOC,\n        TitledHOC\n    )(GUI);\n\n    // TODO a hack for testing the backpack, allow backpack host to be set by url param\n    const backpackHostMatches = window.location.href.match(/[?&]backpack_host=([^&]*)&?/);\n    const backpackHost = backpackHostMatches ? backpackHostMatches[1] : null;\n\n    const scratchDesktopMatches = window.location.href.match(/[?&]isScratchDesktop=([^&]+)/);\n    let simulateScratchDesktop;\n    if (scratchDesktopMatches) {\n        try {\n            // parse 'true' into `true`, 'false' into `false`, etc.\n            simulateScratchDesktop = JSON.parse(scratchDesktopMatches[1]);\n        } catch {\n            // it's not JSON so just use the string\n            // note that a typo like \"falsy\" will be treated as true\n            simulateScratchDesktop = scratchDesktopMatches[1];\n        }\n    }\n\n    if (process.env.NODE_ENV === 'production' && typeof window === 'object') {\n        // Warn before navigating away\n        window.onbeforeunload = () => true;\n    }\n\n    ReactDOM.render(\n        // important: this is checking whether `simulateScratchDesktop` is truthy, not just defined!\n        simulateScratchDesktop ?\n            <WrappedGui\n                isScratchDesktop\n                showTelemetryModal\n                canSave={false}\n                onTelemetryModalCancel={handleTelemetryModalCancel}\n                onTelemetryModalOptIn={handleTelemetryModalOptIn}\n                onTelemetryModalOptOut={handleTelemetryModalOptOut}\n            /> :\n            <WrappedGui\n                backpackVisible\n                showComingSoon\n                backpackHost={backpackHost}\n                canSave={false}\n                onClickLogo={onClickLogo}\n            />,\n        appTarget);\n};\n","/* (ignored) */"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AC1EA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;AAKA;AACA;AAGA;AACA;AACA;AAAA;AACA;AAMA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAGA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;AACA;AALA;AAQA;;;;;;;;;;;AC1FA;;;;A","sourceRoot":""}